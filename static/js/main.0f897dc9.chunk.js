(this.webpackJsonpavitotest=this.webpackJsonpavitotest||[]).push([[0],{14:function(e,t,a){e.exports=a(39)},19:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(13),r=a.n(o),m=(a(19),a(2)),l=a(3),s=a.n(l);a(37),a(38);var i=function(e){var t=e.cardId,a=e.closeCard,o=Object(n.useState)(),r=Object(m.a)(o,2),l=r[0],i=r[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],h=d[1],f=Object(n.useState)(""),p=Object(m.a)(f,2),E=p[0],v=p[1];Object(n.useEffect)((function(){t&&s.a.get("https://boiling-refuge-66454.herokuapp.com/images/".concat(t)).then((function(e){i((function(t){return e.data}))})).catch((function(e){return console.log(e)}))}),[t]);var b=function(){i(""),a()},_=function(e){switch(e.target.name){case"name":h(e.target.value);break;case"comment":v(e.target.value);break;default:return}};return l&&t?c.a.createElement("div",{className:"popup"},c.a.createElement("div",{className:"popup__background",onClick:b}),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card__close"},c.a.createElement("button",{onClick:b},"x")),c.a.createElement("div",{className:"card__photo"},c.a.createElement("img",{src:l.url,alt:"card.id"})),c.a.createElement("div",{className:"card__comments"},l.comments.map((function(e){return c.a.createElement("div",{className:"comment",key:e.date},c.a.createElement("h4",{className:"comment__date"},function(e){var t=new Date(e);return console.log(t),console.log(t.getMonth()),"".concat(t.getDate(),".").concat(t.getMonth()+1,".").concat(t.getFullYear())}(e.date)),c.a.createElement("h4",{className:"comment__text"},e.text))}))),c.a.createElement("div",{className:"card__commentform"},c.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",value:g,onChange:_}),c.a.createElement("input",{type:"text",name:"comment",id:"comment",placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:E,onChange:_}),c.a.createElement("button",{onClick:function(){s.a.post("https://boiling-refuge-66454.herokuapp.com/images/".concat(t,"/comments"),{name:g,comment:E}).then((function(e){204===e.status&&(h(""),v(""))})).catch((function(e){return console.log(e.message)}))}},"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0430\u0442\u0440\u0438\u0439")))):null};var u=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(),l=Object(m.a)(r,2),u=l[0],d=l[1];Object(n.useEffect)((function(){s.a.get("https://boiling-refuge-66454.herokuapp.com/images").then((function(e){return o(e.data)})).catch((function(e){return console.log(e)}))}),[]);var g=function(e){d(e.target.name)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(i,{cardId:u,closeCard:function(){d("")}}),c.a.createElement("div",{className:"container"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"Test App")),c.a.createElement("main",{className:"main"},a.length?a.map((function(e){return c.a.createElement("div",{className:"main__image",key:e.id},c.a.createElement("img",{name:e.id,src:e.url,alt:"nice view",key:e.id,onClick:g}))})):"loading..."),c.a.createElement("footer",{className:"footer"},c.a.createElement("h3",{className:"footer__copyright"},"\xa92018-2019"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.0f897dc9.chunk.js.map